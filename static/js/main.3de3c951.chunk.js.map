{"version":3,"sources":["components/User.js","components/TodoItem.js","components/TodoList.js","api/api.js","App.js","index.js"],"names":["User","_ref","user","react_default","a","createElement","className","name","TodoItem","todo","Fragment","completed","id","title","components_User","SORT_ORDER_ID","TodoList","todos","onSort","sortField","onClick","map","components_TodoItem","key","getTodos","fetch","then","res","json","getUsers","App","state","isLoaded","btnText","visibleTodods","loadData","_callee","_ref2","_ref3","users","todosWithUsers","regenerator_default","wrap","_context","prev","next","Promise","all","sent","Object","slicedToArray","_this","getTodosWithUsers","setState","setTimeout","isSortedAsc","handleSort","stop","sorTodos","_callbackMap","sign","arguments","length","undefined","callbackMap","defineProperty","b","localeCompare","callback","toConsumableArray","sort","objectSpread","find","userId","_this$state","this","components_TodoList","React","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.3de3c951.chunk.js","sourcesContent":["import React from 'react';\n\nconst User = ({ user }) => (\n  <td className=\"todo-list__tbody-cell\" >\n    {user.name}\n  </td>\n)\n\n\nexport default User;","import React from 'react';\nimport User from './User'\n\nconst TodoItem = ({user, todo}) => {\n  return (\n    <>\n      <tr \n        className={ todo.completed ? 'todo-list__tbody-row done' : 'todo-list__tbody-row'} \n      >\n        <td className=\"todo-list__tbody-cell\"> {todo.id} </td>\n        <td className=\"todo-list__tbody-cell\"> {todo.title} </td>\n        <User user={user} />\n        <td className=\"todo-list__tbody-cell\"> {todo.completed ? 'DONE' : 'PENDING'} </td>\n      </tr>  \n    </>\n  )\n}\n\nexport default TodoItem;\n\n","import React from 'react';\nimport TodoItem from './TodoItem';\n\nexport const SORT_ORDER_COMPLETED = 'completed';\nexport const SORT_ORDER_USER = 'user';\nexport const SORT_ORDER_TITLE = 'title';\nexport const SORT_ORDER_ID = 'id';\n\nconst TodoList = ({ todos, onSort, sortField }) => {\n  return (\n    <>\n      <h1 className=\"todo-list__title\">Dynamick to-do list</h1>\n      <table className=\"todo-list__table\">\n        <thead className=\"todo-list__thead\">\n          <tr className=\"todo-list__thead-row\">\n            <th \n            className={sortField === SORT_ORDER_ID ? 'todo-list__thead-th active' : 'todo-list__thead-th'}\n            onClick={()=>onSort(SORT_ORDER_ID)}\n            >\n              ID\n            </th>\n            <th \n            className={sortField === SORT_ORDER_TITLE ? 'todo-list__thead-th active' : 'todo-list__thead-th'}\n            onClick={()=>onSort(SORT_ORDER_TITLE)}\n            >\n              Title\n            </th>\n            <th \n            className={sortField === SORT_ORDER_USER ? 'todo-list__thead-th active' : 'todo-list__thead-th'}\n            onClick={()=>onSort(SORT_ORDER_USER)}\n            >\n              Name\n            </th>\n            <th \n            className={sortField === SORT_ORDER_COMPLETED ? 'todo-list__thead-th active' : 'todo-list__thead-th'}\n            onClick={()=>onSort(SORT_ORDER_COMPLETED)}\n            >\n              Status\n            </th>\n          </tr>\n        </thead>\n        <tbody className=\"todo-list__tbody\">\n        {todos.map(todo => {\n          return (\n            <TodoItem \n              todo = {todo}\n              user = {todo.user}\n              key={todo.id}\n            />\n          )\n        })}\n        </tbody>\n      </table>\n    </>\n  ) \n}\n\nexport default TodoList;","export const getTodos = () => {\r\n  return fetch('https://jsonplaceholder.typicode.com/todos')\r\n    .then(res => res.json())\r\n}\r\n\r\nexport const getUsers = () => {\r\n  return fetch('https://jsonplaceholder.typicode.com/users')\r\n    .then(res => res.json())\r\n}","import React from 'react';\nimport './App.css';\nimport TodoList, {\n  SORT_ORDER_COMPLETED,\n  SORT_ORDER_USER,\n  SORT_ORDER_TITLE,\n  SORT_ORDER_ID\n} from './components/TodoList';\nimport { getTodos, getUsers } from './api/api'\n\nclass App extends React.Component {\n  state = {\n    sortField: '',\n    todos: [],\n    isLoaded: false,\n    btnText: 'load',\n    visibleTodods: [],\n  }\n\n  loadData = async () => {\n    const [todos, users] = await Promise.all([\n      getTodos(),\n      getUsers()\n    ])\n\n    const todosWithUsers = this.getTodosWithUsers(todos, users);\n\n    this.setState({\n      btnText: 'Loading...',\n    })\n\n    setTimeout(() => {\n      this.setState(prev => {\n        return {\n          visibleTodods: todosWithUsers,\n          isSortedAsc: true,\n          todos: todosWithUsers,\n          isLoaded: true,\n        }\n      })     \n    }, 1500);\n\n    this.handleSort(SORT_ORDER_ID);\n\n  }\n\n  sorTodos(todos, sortField, isSortedAsc = true) {\n    const sign = isSortedAsc ? 1 : -1\n    const callbackMap = {\n      [SORT_ORDER_TITLE]: (a, b) => a.title.localeCompare(b.title) * sign,\n      [SORT_ORDER_USER]: (a, b) => a.user.name.localeCompare(b.user.name) * sign,\n      [SORT_ORDER_COMPLETED]: (a, b) => (a.completed - b.completed) * sign, \n      [SORT_ORDER_ID]: (a, b) => (a.id - b.id) * sign, \n    };\n    const callback = callbackMap[sortField] || callbackMap[SORT_ORDER_TITLE]\n    return [...todos].sort(callback);\n  }\n\n  handleSort = (sortField) => {\n    this.setState (prev => {\n      const isSortedAsc = prev.sortField === sortField ? !prev.isSortedAsc : true\n      return { \n        sortField,\n        visibleTodods: this.sorTodos(prev.todos, sortField, isSortedAsc),\n        isSortedAsc,\n      }\n    });\n  }\n\n  getTodosWithUsers(todos, users) {\n    return todos.map(todo =>({\n      ...todo,\n      user: users.find(user => user.id === todo.userId)\n    }))\n  }\n\n  render(){\n    const {visibleTodods, isLoaded, btnText, sortField} = this.state;\n    return (\n      <div className=\"todo-list\">\n        { isLoaded ? (\n          <TodoList \n          todos = {visibleTodods}\n          onSort={this.handleSort}\n          sortField={sortField}\n          />\n        ) : (\n          <button\n          className=\"todo-list__button\" \n          onClick={this.loadData}>{btnText}\n          </button>\n        )}\n\n      </div>\n    );\n  } \n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}