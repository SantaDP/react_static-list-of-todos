(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,o){t.exports=o(23)},20:function(t,e,o){},22:function(t,e,o){},23:function(t,e,o){"use strict";o.r(e);var a=o(0),n=o.n(a),r=o(4),s=o.n(r),l=(o(20),o(5)),c=o(10),i=o(1),d=o(2),u=o.n(d),m=o(11),h=o(6),_=o(7),f=o(8),b=o(12),p=o(9),E=o(13),v=(o(22),function(t){var e=t.user;return n.a.createElement("td",{className:"todo-list__tbody-cell"},e.name)}),N=function(t){var e=t.user,o=t.todo;return n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",{className:o.completed?"todo-list__tbody-row done":"todo-list__tbody-row"},n.a.createElement("td",{className:"todo-list__tbody-cell"}," ",o.id," "),n.a.createElement("td",{className:"todo-list__tbody-cell"}," ",o.title," "),n.a.createElement(v,{user:e}),n.a.createElement("td",{className:"todo-list__tbody-cell"}," ",o.completed?"DONE":"PENDING"," ")))},y="id",j=function(t){var e=t.todos,o=t.onSort,a=t.sortField;return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{className:"todo-list__title"},"Dynamick to-do list"),n.a.createElement("table",{className:"todo-list__table"},n.a.createElement("thead",{className:"todo-list__thead"},n.a.createElement("tr",{className:"todo-list__thead-row"},n.a.createElement("th",{className:a===y?"todo-list__thead-th active":"todo-list__thead-th",onClick:function(){return o(y)}},"ID"),n.a.createElement("th",{className:"title"===a?"todo-list__thead-th active":"todo-list__thead-th",onClick:function(){return o("title")}},"Title"),n.a.createElement("th",{className:"user"===a?"todo-list__thead-th active":"todo-list__thead-th",onClick:function(){return o("user")}},"Name"),n.a.createElement("th",{className:"completed"===a?"todo-list__thead-th active":"todo-list__thead-th",onClick:function(){return o("completed")}},"Status"))),n.a.createElement("tbody",{className:"todo-list__tbody"},e.map(function(t){return n.a.createElement(N,{todo:t,user:t.user,key:t.id})}))))},O=function(){return fetch("https://jsonplaceholder.typicode.com/todos").then(function(t){return t.json()})},k=function(){return fetch("https://jsonplaceholder.typicode.com/users").then(function(t){return t.json()})},T=function(t){function e(){var t,o;Object(_.a)(this,e);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(o=Object(b.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(n)))).state={sortField:"",todos:[],isLoaded:!1,btnText:"load",visibleTodods:[]},o.loadData=Object(h.a)(u.a.mark(function t(){var e,a,n,r,s;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([O(),k()]);case 2:e=t.sent,a=Object(m.a)(e,2),n=a[0],r=a[1],s=o.getTodosWithUsers(n,r),o.setState({btnText:"Loading..."}),setTimeout(function(){o.setState(function(t){return{visibleTodods:s,isSortedAsc:!0,todos:s,isLoaded:!0}})},1500),o.handleSort(y);case 10:case"end":return t.stop()}},t)})),o.handleSort=function(t){o.setState(function(e){var a=e.sortField!==t||!e.isSortedAsc;return{sortField:t,visibleTodods:o.sorTodos(e.todos,t,a),isSortedAsc:a}})},o}return Object(E.a)(e,t),Object(f.a)(e,[{key:"sorTodos",value:function(t,e){var o,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?1:-1,n=(o={},Object(i.a)(o,"title",function(t,e){return t.title.localeCompare(e.title)*a}),Object(i.a)(o,"user",function(t,e){return t.user.name.localeCompare(e.user.name)*a}),Object(i.a)(o,"completed",function(t,e){return(t.completed-e.completed)*a}),Object(i.a)(o,y,function(t,e){return(t.id-e.id)*a}),o),r=n[e]||n.title;return Object(c.a)(t).sort(r)}},{key:"getTodosWithUsers",value:function(t,e){return t.map(function(t){return Object(l.a)({},t,{user:e.find(function(e){return e.id===t.userId})})})}},{key:"render",value:function(){var t=this.state,e=t.visibleTodods,o=t.isLoaded,a=t.btnText,r=t.sortField;return n.a.createElement("div",{className:"todo-list"},o?n.a.createElement(j,{todos:e,onSort:this.handleSort,sortField:r}):n.a.createElement("button",{className:"todo-list__button",onClick:this.loadData},a))}}]),e}(n.a.Component);s.a.render(n.a.createElement(T,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.3de3c951.chunk.js.map